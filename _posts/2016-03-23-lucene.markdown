---
layout:     post
title:      "Lucene原理"

date:       2016-03-23 21:35:03
author:     "Distancez"
header-img: "img/post-bg-2015.jpg"
header-mask: 0.3
tags:
    - Lucene
---

#Lucene简介
Lucene是一个开放源代码的全文检索引擎工具包，由Apache软件基金会支持和提供。
---

#全文检索
何为全文检索？这就要从数据说起了，数据分为两种：**结构化数据**和**非结构化数据**

 - **结构化数据**：具有固定格式和或有限长度的数据，如数据库
 - **非结构化数据**：无固定格式或不定长的数据，如文档、图片等

**非结构化数据**又名**全文数据**，传统的全文检索采用顺序检索的方法，效率很低，但是对于结构化数据的检索，由于可以采用相应的搜索算法加快速度，所以效率较高。为了提升全文检索的效率，我们将非结构数据中的一部分信息提取出来，重新组织，使其变得有一定结构，再基于这一部分有结构的数据进行检索。
这一部分从非结构化数据中提取然后重新组织的信息，我们称之为**索引**。
这种先建立索引,再对索引进行搜索的过程就叫**全文检索(Full-text Search)**。
---

#索引创建和搜索过程
##索引过程
 1. 待索引文件
 2. 待索引文件经过词法分析和语言处理得到一系列词（Term）
 3. 经过索引创建形成词典和反向索引表
 4. 通过索引存储将索引写入硬盘
##搜索过程
 1. 用户输入查询语句
 2. 查询语句经过词法分析和语言处理得到一系列词（Term）
 3. 通过语法分析得到一个查询树
 4. 通过索引存储将索引读入内存
 5. 通过查询树搜索索引，从而得到每个词（Term）的文档链表，对文档链表进行交、差、并等操作得到结果文档
 6. 将结果文档按相对于查询的相关性进行排序
 7. 返回查询结果

 
